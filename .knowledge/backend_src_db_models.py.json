{"is_source_file": true, "format": "Python", "description": "This file defines MongoDB document models for the SkillMaster learning platform using Pydantic for validation. It includes models for skills, lessons, badges, quiz questions, user progress, and users, with mechanisms to encode ObjectId and structure the documents, but it is not an ODM (Object-Document Mapper).", "external_files": ["bson", "pydantic", "pydantic.config"], "external_methods": ["_objectid_encoder", "Field", "field_validator"], "published": ["BadgeModel", "QuizQuestionModel", "LessonModel", "SkillModel", "ProgressModel", "UserModel"], "classes": [{"name": "_BaseMongoModel", "description": "Base Pydantic model for MongoDB documents with alias support and custom JSON encoders."}, {"name": "BadgeModel", "description": "Represents a badge awarded for a lesson or skill completion."}, {"name": "QuizQuestionModel", "description": "Defines the structure of a quiz question with options and correct answer index."}, {"name": "LessonModel", "description": "Represents a lesson document including content, quiz, badge, and metadata."}, {"name": "SkillModel", "description": "Represents a skill with categorization and metadata."}, {"name": "ProgressModel", "description": "Tracks user progress on lessons, including completion status and score."}, {"name": "UserModel", "description": "Placeholder for user data, including email, role, and timestamps."}], "methods": [{"name": "Optional[str] _objectid_encoder(v: Any)", "description": "Converts Mongo ObjectId to string safely.", "scope": "", "scopeKind": ""}, {"name": "List[str] validate_options(cls, v: List[str])", "scope": "QuizQuestionModel", "scopeKind": "class", "description": "unavailable"}], "calls": ["_objectid_encoder", "Field", "field_validator"], "search-terms": ["MongoDB models", "pydantic", "lesson content", "quiz questions", "skill slug", "progress tracking", "badge", "model definitions"], "state": 2, "file_id": 21, "knowledge_revision": 66, "git_revision": "d6098fa8e57823041338944baf99a4e23adf6358", "revision_history": [{"47": ""}, {"66": "d6098fa8e57823041338944baf99a4e23adf6358"}], "ctags": [{"_type": "tag", "name": "BadgeModel", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^class BadgeModel(_BaseMongoModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "LessonModel", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^class LessonModel(_BaseMongoModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ProgressModel", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^class ProgressModel(_BaseMongoModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "QuizQuestionModel", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^class QuizQuestionModel(_BaseMongoModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SkillModel", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^class SkillModel(_BaseMongoModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserModel", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^class UserModel(_BaseMongoModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_BaseMongoModel", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^class _BaseMongoModel(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_objectid_encoder", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^def _objectid_encoder(v: Any) -> Optional[str]:$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "function", "signature": "(v: Any)"}, {"_type": "tag", "name": "answerIndex", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    answerIndex: int = Field(..., ge=0, le=3, description=\"Index into options array (0-3)\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "QuizQuestionModel", "scopeKind": "class"}, {"_type": "tag", "name": "badge", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    badge: BadgeModel = Field(..., description=\"Badge awarded upon completion\")$/", "language": "Python", "typeref": "typename:BadgeModel", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    category: str = Field(..., description=\"Parent category name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    category: str = Field(..., description=\"Skill category grouping\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "SkillModel", "scopeKind": "class"}, {"_type": "tag", "name": "completed", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    completed: bool = Field(default=False)$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "ProgressModel", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    content: str = Field(..., description=\"Lesson content in markdown\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    createdAt: datetime = Field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    createdAt: datetime = Field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "ProgressModel", "scopeKind": "class"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    createdAt: datetime = Field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "SkillModel", "scopeKind": "class"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    createdAt: datetime = Field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "UserModel", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    description: Optional[str] = Field(None, description=\"Short description\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "SkillModel", "scopeKind": "class"}, {"_type": "tag", "name": "difficulty", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    difficulty: str = Field(default=\"Beginner\", description=\"Default difficulty for the skill\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "SkillModel", "scopeKind": "class"}, {"_type": "tag", "name": "difficulty", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    difficulty: str = Field(default=\"Beginner\", description=\"Difficulty level\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    email: str = Field(..., description=\"User email\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserModel", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    id: Optional[str] = Field(default=None, alias=\"_id\", description=\"Mongo id (stringified Obje/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    id: Optional[str] = Field(default=None, alias=\"_id\", description=\"Mongo id (stringified Obje/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "ProgressModel", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    id: Optional[str] = Field(default=None, alias=\"_id\", description=\"Mongo id (stringified Obje/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "SkillModel", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    id: Optional[str] = Field(default=None, alias=\"_id\", description=\"Mongo id (stringified Obje/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "UserModel", "scopeKind": "class"}, {"_type": "tag", "name": "lessonSlug", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    lessonSlug: str = Field(..., description=\"Lesson slug\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressModel", "scopeKind": "class"}, {"_type": "tag", "name": "media", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    media: Optional[str] = Field(None, description=\"Optional media URL\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "model_config", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    model_config = ConfigDict($/", "language": "Python", "kind": "variable", "scope": "_BaseMongoModel", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    name: Optional[str] = Field(None, description=\"User name\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "UserModel", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    name: str = Field(..., description=\"Badge display name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "BadgeModel", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    name: str = Field(..., description=\"Skill name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "SkillModel", "scopeKind": "class"}, {"_type": "tag", "name": "options", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    options: List[str] = Field(..., min_length=4, max_length=4, description=\"Exactly 4 options\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "QuizQuestionModel", "scopeKind": "class"}, {"_type": "tag", "name": "points", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    points: int = Field(..., ge=0, le=1000, description=\"Point value for the badge\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "BadgeModel", "scopeKind": "class"}, {"_type": "tag", "name": "question", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    question: str = Field(..., description=\"Question prompt\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "QuizQuestionModel", "scopeKind": "class"}, {"_type": "tag", "name": "quiz", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    quiz: List[QuizQuestionModel] = Field(..., min_length=3, max_length=3, description=\"Exactly /", "language": "Python", "typeref": "typename:List[QuizQuestionModel]", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    role: str = Field(default=\"user\", description=\"Role (user\\/admin)\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserModel", "scopeKind": "class"}, {"_type": "tag", "name": "score", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    score: Optional[float] = Field(None, ge=0, le=100)$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "ProgressModel", "scopeKind": "class"}, {"_type": "tag", "name": "skillSlug", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    skillSlug: str = Field(..., description=\"Parent skill slug\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "skillSlug", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    skillSlug: str = Field(..., description=\"Skill slug\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressModel", "scopeKind": "class"}, {"_type": "tag", "name": "slug", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    slug: str = Field(..., description=\"URL-safe slug for the lesson\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "slug", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    slug: str = Field(..., description=\"URL-safe slug for the skill\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "SkillModel", "scopeKind": "class"}, {"_type": "tag", "name": "summary", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    summary: Optional[str] = Field(None, description=\"Short lesson summary\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    tags: List[str] = Field(default_factory=list, description=\"Lesson tags\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    tags: List[str] = Field(default_factory=list, description=\"Tags\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "SkillModel", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    title: str = Field(..., description=\"Lesson title\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    updatedAt: datetime = Field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "LessonModel", "scopeKind": "class"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    updatedAt: datetime = Field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "ProgressModel", "scopeKind": "class"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    updatedAt: datetime = Field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "SkillModel", "scopeKind": "class"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    updatedAt: datetime = Field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "UserModel", "scopeKind": "class"}, {"_type": "tag", "name": "userId", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    userId: str = Field(..., description=\"User id\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressModel", "scopeKind": "class"}, {"_type": "tag", "name": "validate_options", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/db/models.py", "pattern": "/^    def validate_options(cls, v: List[str]) -> List[str]:$/", "language": "Python", "typeref": "typename:List[str]", "kind": "member", "signature": "(cls, v: List[str])", "scope": "QuizQuestionModel", "scopeKind": "class"}], "hash": "d13245023fb0bb263d82006e7e14dbc9", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/db/models.py", "fields": [{"name": "int answerIndex", "scope": "QuizQuestionModel", "scopeKind": "class", "description": "unavailable"}, {"name": "BadgeModel badge", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str category", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "bool completed", "scope": "ProgressModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str content", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "datetime createdAt", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] description", "scope": "SkillModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str difficulty", "scope": "SkillModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str email", "scope": "UserModel", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] id", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str lessonSlug", "scope": "ProgressModel", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] media", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "model_config = ConfigDict(", "scope": "_BaseMongoModel", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] name", "scope": "UserModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str name", "scope": "BadgeModel", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] options", "scope": "QuizQuestionModel", "scopeKind": "class", "description": "unavailable"}, {"name": "int points", "scope": "BadgeModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str question", "scope": "QuizQuestionModel", "scopeKind": "class", "description": "unavailable"}, {"name": "List[QuizQuestionModel] quiz", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str role", "scope": "UserModel", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] score", "scope": "ProgressModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str skillSlug", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str slug", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] summary", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] tags", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str title", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "datetime updatedAt", "scope": "LessonModel", "scopeKind": "class", "description": "unavailable"}, {"name": "str userId", "scope": "ProgressModel", "scopeKind": "class", "description": "unavailable"}]}