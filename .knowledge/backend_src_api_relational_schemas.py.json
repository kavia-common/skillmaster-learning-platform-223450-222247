{"is_source_file": true, "format": "Python", "description": "This file contains Pydantic schema definitions for a relational learning hierarchy, including data models for activities, lessons, modules, subjects, and corresponding create/update schemas within an API context. It supports list/detail endpoints and nested reads, managing timestamps and flags for soft deletion and data visibility.", "external_files": ["pydantic"], "external_methods": [], "published": ["ActivityRead", "LessonRead", "ModuleRead", "SubjectRead", "SubjectCreate", "ModuleCreate", "LessonCreate", "ActivityCreate", "ProgressRead", "ProgressCreate"], "classes": [{"name": "_BaseSchema", "description": "Base Pydantic schema with ORM mode configuration."}, {"name": "ActivityRead", "description": "Represents an activity (content or quiz) for API read operations."}, {"name": "LessonRead", "description": "Represents lesson details including nested activities for read endpoints."}, {"name": "ModuleRead", "description": "Represents module details including nested lessons."}, {"name": "SubjectRead", "description": "Represents subject details including nested modules."}, {"name": "SubjectCreate", "description": "Schema for creating a new subject."}, {"name": "ModuleCreate", "description": "Schema for creating a new module."}, {"name": "LessonCreate", "description": "Schema for creating a new lesson."}, {"name": "ActivityCreate", "description": "Schema for creating a new activity (content or quiz), including validation."}, {"name": "ProgressRead", "description": "Schema for reading progress entries."}, {"name": "ProgressCreate", "description": "Schema for creating progress entries."}], "methods": [{"name": "str validate_type(cls, v: str)", "description": "Validator for 'type' field in ActivityCreate, ensuring it is 'content' or 'quiz'.", "scope": "ActivityCreate", "scopeKind": "class"}, {"name": "validate_quiz(cls, v: Optional[list], info)", "description": "Validator for 'quiz_questions' field in ActivityCreate, ensuring non-empty list if type is 'quiz'.", "scope": "ActivityCreate", "scopeKind": "class"}], "calls": [], "search-terms": ["Pydantic schemas", "relational learning hierarchy", "ActivityRead", "LessonRead", "ModuleRead", "SubjectRead", "create payload", "nested reads", "timestamps", "soft delete flags"], "state": 2, "file_id": 31, "knowledge_revision": 76, "git_revision": "", "ctags": [{"_type": "tag", "name": "ActivityCreate", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^class ActivityCreate(_BaseSchema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ActivityRead", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^class ActivityRead(_BaseSchema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    class Config:$/", "language": "Python", "kind": "class", "scope": "_BaseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "LessonCreate", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^class LessonCreate(_BaseSchema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "LessonRead", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^class LessonRead(_BaseSchema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ModuleCreate", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^class ModuleCreate(_BaseSchema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ModuleRead", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^class ModuleRead(_BaseSchema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ProgressCreate", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^class ProgressCreate(_BaseSchema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ProgressRead", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^class ProgressRead(_BaseSchema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SubjectCreate", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^class SubjectCreate(_BaseSchema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SubjectRead", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^class SubjectRead(_BaseSchema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_BaseSchema", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^class _BaseSchema(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "activities", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    activities: List[ActivityRead] = Field(default_factory=list)$/", "language": "Python", "typeref": "typename:List[ActivityRead]", "kind": "variable", "scope": "LessonRead", "scopeKind": "class"}, {"_type": "tag", "name": "activity_id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    activity_id: Optional[int] = None$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "ProgressCreate", "scopeKind": "class"}, {"_type": "tag", "name": "activity_id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    activity_id: Optional[int] = None$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "ProgressRead", "scopeKind": "class"}, {"_type": "tag", "name": "completed", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    completed: bool = False$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "ProgressRead", "scopeKind": "class"}, {"_type": "tag", "name": "completed", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    completed: bool = True$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "ProgressCreate", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    content: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "ActivityCreate", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    content: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "ActivityRead", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    description: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "ModuleCreate", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    description: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "ModuleRead", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    description: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "SubjectCreate", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    description: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "SubjectRead", "scopeKind": "class"}, {"_type": "tag", "name": "from_attributes", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^        from_attributes = True$/", "language": "Python", "kind": "variable", "scope": "_BaseSchema.Config", "scopeKind": "class"}, {"_type": "tag", "name": "lesson_id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    lesson_id: Optional[int] = None$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "ProgressCreate", "scopeKind": "class"}, {"_type": "tag", "name": "lesson_id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    lesson_id: Optional[int] = None$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "ProgressRead", "scopeKind": "class"}, {"_type": "tag", "name": "lessons", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    lessons: List[LessonRead] = Field(default_factory=list)$/", "language": "Python", "typeref": "typename:List[LessonRead]", "kind": "variable", "scope": "ModuleRead", "scopeKind": "class"}, {"_type": "tag", "name": "module_id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    module_id: Optional[int] = None$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "ProgressCreate", "scopeKind": "class"}, {"_type": "tag", "name": "module_id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    module_id: Optional[int] = None$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "ProgressRead", "scopeKind": "class"}, {"_type": "tag", "name": "modules", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    modules: List[ModuleRead] = Field(default_factory=list)$/", "language": "Python", "typeref": "typename:List[ModuleRead]", "kind": "variable", "scope": "SubjectRead", "scopeKind": "class"}, {"_type": "tag", "name": "order_index", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    order_index: int = 0$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ActivityCreate", "scopeKind": "class"}, {"_type": "tag", "name": "order_index", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    order_index: int = 0$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "LessonCreate", "scopeKind": "class"}, {"_type": "tag", "name": "order_index", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    order_index: int = 0$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ModuleCreate", "scopeKind": "class"}, {"_type": "tag", "name": "quiz_pass_score", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    quiz_pass_score: Optional[float] = None$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "ActivityCreate", "scopeKind": "class"}, {"_type": "tag", "name": "quiz_pass_score", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    quiz_pass_score: Optional[float] = None$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "ActivityRead", "scopeKind": "class"}, {"_type": "tag", "name": "quiz_questions", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    quiz_questions: Optional[list] = Field(None, description=\"Quiz questions (array)\")$/", "language": "Python", "typeref": "typename:Optional[list]", "kind": "variable", "scope": "ActivityRead", "scopeKind": "class"}, {"_type": "tag", "name": "quiz_questions", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    quiz_questions: Optional[list] = None$/", "language": "Python", "typeref": "typename:Optional[list]", "kind": "variable", "scope": "ActivityCreate", "scopeKind": "class"}, {"_type": "tag", "name": "score", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    score: Optional[float] = Field(None, ge=0, le=100)$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "ProgressCreate", "scopeKind": "class"}, {"_type": "tag", "name": "score", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    score: Optional[float] = None$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "ProgressRead", "scopeKind": "class"}, {"_type": "tag", "name": "slug", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    slug: str = Field(..., min_length=1, max_length=150)$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "SubjectCreate", "scopeKind": "class"}, {"_type": "tag", "name": "subject_id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    subject_id: Optional[int] = None$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "ProgressCreate", "scopeKind": "class"}, {"_type": "tag", "name": "subject_id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    subject_id: Optional[int] = None$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "ProgressRead", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    title: str = Field(..., min_length=1, max_length=255)$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "SubjectCreate", "scopeKind": "class"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    type: str = Field(..., description=\"content | quiz\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ActivityRead", "scopeKind": "class"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    type: str = Field(default=\"content\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ActivityCreate", "scopeKind": "class"}, {"_type": "tag", "name": "validate_quiz", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    def validate_quiz(cls, v: Optional[list], info):$/", "language": "Python", "kind": "member", "signature": "(cls, v: Optional[list], info)", "scope": "ActivityCreate", "scopeKind": "class"}, {"_type": "tag", "name": "validate_type", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/relational_schemas.py", "pattern": "/^    def validate_type(cls, v: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(cls, v: str)", "scope": "ActivityCreate", "scopeKind": "class"}], "hash": "0205408a1fbd623db29b75a13a553e03", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/relational_schemas.py", "fields": [{"name": "List[ActivityRead] activities", "scope": "LessonRead", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] activity_id", "scope": "ProgressCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "bool completed", "scope": "ProgressRead", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] content", "scope": "ActivityCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] description", "scope": "ModuleCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "from_attributes = True", "scope": "_BaseSchema.Config", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] lesson_id", "scope": "ProgressCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "List[LessonRead] lessons", "scope": "ModuleRead", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] module_id", "scope": "ProgressCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "List[ModuleRead] modules", "scope": "SubjectRead", "scopeKind": "class", "description": "unavailable"}, {"name": "int order_index", "scope": "ActivityCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] quiz_pass_score", "scope": "ActivityCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[list] quiz_questions", "scope": "ActivityRead", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] score", "scope": "ProgressCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "str slug", "scope": "SubjectCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] subject_id", "scope": "ProgressCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "str title", "scope": "SubjectCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "str type", "scope": "ActivityRead", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"76": ""}]}