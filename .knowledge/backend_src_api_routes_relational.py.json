{"is_source_file": true, "format": "Python", "description": "This file defines RESTful API routes for managing a relational educational platform, including CRUD operations for Subjects, Modules, Lessons, Activities (including Quizzes), and Progress tracking. It uses FastAPI for route definitions, SQLAlchemy ORM for database interactions, and Pydantic schemas for validation and serialization. The routes support pagination, search, nested data retrieval, and soft deletion. It also includes logic for progress upsertion and filtering by entity type and ID.", "external_files": ["src.db.relational_models", "src.api.relational_schemas", "src.db.sqlalchemy"], "external_methods": ["src.api.relational_schemas.ActivityCreate", "src.api.relational_schemas.ActivityRead", "src.api.relational_schemas.LessonCreate", "src.api.relational_schemas.LessonRead", "src.api.relational_schemas.ModuleCreate", "src.api.relational_schemas.ModuleRead", "src.api.relational_schemas.ProgressCreate", "src.api.relational_schemas.ProgressRead", "src.api.relational_schemas.SubjectCreate", "src.api.relational_schemas.SubjectRead", "src.db.relational_models.Activity", "src.db.relational_models.ActivityType", "src.db.relational_models.Lesson", "src.db.relational_models.Module", "src.db.relational_models.Progress", "src.db.relational_models.Subject", "src.db.sqlalchemy.db_session_scope"], "published": ["list_subjects", "create_subject", "get_subject", "update_subject", "delete_subject", "list_modules_for_subject", "list_modules", "create_module", "get_module", "update_module", "delete_module", "list_lessons_for_module", "list_lessons", "create_lesson", "get_lesson", "update_lesson", "delete_lesson", "list_activities", "create_activity", "get_activity", "update_activity", "delete_activity", "list_quizzes", "create_quiz", "get_quiz", "update_quiz", "delete_quiz", "list_activities_for_lesson", "list_progress", "upsert_progress", "get_progress", "delete_progress"], "classes": [{"name": "PaginatedResponse", "description": "A generic Pydantic model for paginated API responses containing a list of items, total count, current page, and page size."}, {"name": "ProgressUpsertPayload", "description": "Pydantic model for payload used when creating or updating progress entries, including entity type, entity id, status, score, and optional completion time."}], "methods": [{"name": "paginate(query, page: int, page_size: int)", "description": "Utility function to apply offset and limit for pagination on SQLAlchemy queries.", "scope": "", "scopeKind": ""}, {"name": "Optional[str] like_search(term: Optional[str])", "description": "Utility function to generate case-insensitive LIKE patterns for search queries.", "scope": "", "scopeKind": ""}, {"name": "SubjectRead to_subject_read(entity: Subject, include_nested: bool = False)", "description": "Converts Subject ORM instance to SubjectRead Pydantic schema, optionally including nested modules and lessons.", "scope": "", "scopeKind": ""}, {"name": "ModuleRead to_module_read(entity: Module, include_nested: bool = False)", "description": "Converts Module ORM instance to ModuleRead schema, optionally including nested lessons.", "scope": "", "scopeKind": ""}, {"name": "ActivityRead to_activity_read(entity: Activity)", "description": "Converts Activity ORM instance to ActivityRead schema.", "scope": "", "scopeKind": ""}, {"name": "LessonRead to_lesson_read(entity: Lesson, include_nested: bool = False)", "description": "Converts Lesson ORM instance to LessonRead schema, optionally including nested activities.", "scope": "", "scopeKind": ""}, {"name": "ProgressRead to_progress_read(entity: Progress)", "description": "Converts Progress ORM instance to ProgressRead schema.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] list_subjects( search: Optional[str] = Query(None, description=\"Search in slug/title\"), page: int = Query(1, ge=1, description=\"Page number\"), page_size: int = Query(20, ge=1, le=100, description=\"Items per page\"), )", "description": "API endpoint to retrieve a paginated list of subjects with optional search.", "scope": "", "scopeKind": ""}, {"name": "SubjectRead create_subject(payload: SubjectCreate)", "description": "API endpoint to create a new subject.", "scope": "", "scopeKind": ""}, {"name": "SubjectRead get_subject( subject_id: int, include_nested: bool = Query(False, description=\"Include modules tree\") )", "description": "API endpoint to retrieve a subject by ID, with optional nested modules.", "scope": "", "scopeKind": ""}, {"name": "SubjectRead update_subject(subject_id: int, updates: Dict[str, Any])", "description": "API endpoint to update fields of an existing subject.", "scope": "", "scopeKind": ""}, {"name": "None delete_subject(subject_id: int)", "description": "API endpoint to soft delete a subject.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] list_modules_for_subject( subject_id: int, search: Optional[str] = Query(None, description=\"Search in slug/title\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )", "description": "API endpoint to list modules belonging to a specific subject.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] list_modules( subject_id: Optional[int] = Query(None, description=\"Filter by subject id\"), search: Optional[str] = Query(None, description=\"Search in slug/title\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )", "description": "API endpoint to list modules, optionally filtered by subject.", "scope": "", "scopeKind": ""}, {"name": "ModuleRead create_module(payload: ModuleCreate)", "description": "API endpoint to create a new module, linked to a subject.", "scope": "", "scopeKind": ""}, {"name": "ModuleRead get_module( module_id: int, include_nested: bool = Query(False, description=\"Include lessons tree\") )", "description": "API endpoint to retrieve a module by ID, optionally including nested lessons.", "scope": "", "scopeKind": ""}, {"name": "ModuleRead update_module(module_id: int, updates: Dict[str, Any])", "description": "API endpoint to update module fields.", "scope": "", "scopeKind": ""}, {"name": "None delete_module(module_id: int)", "description": "API endpoint to soft delete a module.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] list_lessons_for_module( module_id: int, search: Optional[str] = Query(None, description=\"Search in slug/title\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )", "description": "API endpoint to list lessons within a specific module.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] list_lessons( module_id: Optional[int] = Query(None, description=\"Filter by module id\"), search: Optional[str] = Query(None, description=\"Search in slug/title\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )", "description": "API endpoint to list lessons, optionally filtered by module.", "scope": "", "scopeKind": ""}, {"name": "LessonRead create_lesson(payload: LessonCreate)", "description": "API endpoint to create a new lesson within a module.", "scope": "", "scopeKind": ""}, {"name": "LessonRead get_lesson( lesson_id: int, include_nested: bool = Query(False, description=\"Include activities\") )", "description": "API endpoint to retrieve a lesson by ID, optionally including nested activities.", "scope": "", "scopeKind": ""}, {"name": "LessonRead update_lesson(lesson_id: int, updates: Dict[str, Any])", "description": "API endpoint to update lesson fields.", "scope": "", "scopeKind": ""}, {"name": "None delete_lesson(lesson_id: int)", "description": "API endpoint to soft delete a lesson.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] list_activities_for_lesson( lesson_id: int, page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )", "description": "API endpoint to list activities within a lesson.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] list_activities( lesson_id: Optional[int] = Query(None, description=\"Filter by lesson id\"), type: Optional[str] = Query(None, description=\"Filter by type: content|quiz\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )", "description": "API endpoint to list activities with optional filters.", "scope": "", "scopeKind": ""}, {"name": "ActivityRead create_activity(payload: ActivityCreate)", "description": "API endpoint to create a new activity for a lesson.", "scope": "", "scopeKind": ""}, {"name": "ActivityRead get_activity(activity_id: int)", "description": "API endpoint to retrieve activity details.", "scope": "", "scopeKind": ""}, {"name": "ActivityRead update_activity(activity_id: int, updates: Dict[str, Any])", "description": "API endpoint to update activity fields.", "scope": "", "scopeKind": ""}, {"name": "None delete_activity(activity_id: int)", "description": "API endpoint to soft delete an activity.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] list_quizzes( lesson_id: Optional[int] = Query(None, description=\"Filter by lesson id\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )", "description": "API endpoint to list all quiz activities.", "scope": "", "scopeKind": ""}, {"name": "ActivityRead create_quiz(payload: ActivityCreate)", "description": "API endpoint to create a quiz activity of type 'quiz'.", "scope": "", "scopeKind": ""}, {"name": "ActivityRead get_quiz(quiz_id: int)", "description": "API endpoint to retrieve a quiz by ID, validating type.", "scope": "", "scopeKind": ""}, {"name": "ActivityRead update_quiz(quiz_id: int, updates: Dict[str, Any])", "description": "API endpoint to update a quiz activity.", "scope": "", "scopeKind": ""}, {"name": "None delete_quiz(quiz_id: int)", "description": "API endpoint to soft delete a quiz activity.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] list_progress( user_id: str = Query(..., description=\"User id\"), subject_id: Optional[int] = Query(None), module_id: Optional[int] = Query(None), lesson_id: Optional[int] = Query(None), activity_id: Optional[int] = Query(None), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )", "description": "API endpoint to list user progress entries with filters.", "scope": "", "scopeKind": ""}, {"name": "ProgressRead upsert_progress(payload: ProgressUpsertPayload)", "description": "API endpoint to create or update a progress record for a user and entity.", "scope": "", "scopeKind": ""}, {"name": "ProgressRead get_progress(progress_id: int)", "description": "API endpoint to retrieve progress by ID.", "scope": "", "scopeKind": ""}, {"name": "None delete_progress(progress_id: int)", "description": "API endpoint to soft delete a progress record.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Optional[int]] _resolve_progress_targets(payload: ProgressUpsertPayload)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "None _validate_references(session: Session, refs: Dict[str, Optional[int]])", "scope": "", "scopeKind": "", "description": "unavailable"}], "state": 2, "file_id": 35, "knowledge_revision": 86, "git_revision": "", "ctags": [{"_type": "tag", "name": "PaginatedResponse", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^class PaginatedResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ProgressUpsertPayload", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^class ProgressUpsertPayload(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_resolve_progress_targets", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def _resolve_progress_targets(payload: ProgressUpsertPayload) -> Dict[str, Optional[int]]:$/", "language": "Python", "typeref": "typename:Dict[str,Optional[int]]", "kind": "function", "signature": "(payload: ProgressUpsertPayload)"}, {"_type": "tag", "name": "_validate_references", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def _validate_references(session: Session, refs: Dict[str, Optional[int]]) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(session: Session, refs: Dict[str, Optional[int]])"}, {"_type": "tag", "name": "completed_at", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^    completed_at: Optional[datetime] = None$/", "language": "Python", "typeref": "typename:Optional[datetime]", "kind": "variable", "scope": "ProgressUpsertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "create_activity", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def create_activity(payload: ActivityCreate) -> ActivityRead:$/", "language": "Python", "typeref": "typename:ActivityRead", "kind": "function", "signature": "(payload: ActivityCreate)"}, {"_type": "tag", "name": "create_lesson", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def create_lesson(payload: LessonCreate) -> LessonRead:$/", "language": "Python", "typeref": "typename:LessonRead", "kind": "function", "signature": "(payload: LessonCreate)"}, {"_type": "tag", "name": "create_module", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def create_module(payload: ModuleCreate) -> ModuleRead:$/", "language": "Python", "typeref": "typename:ModuleRead", "kind": "function", "signature": "(payload: ModuleCreate)"}, {"_type": "tag", "name": "create_quiz", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def create_quiz(payload: ActivityCreate) -> ActivityRead:$/", "language": "Python", "typeref": "typename:ActivityRead", "kind": "function", "signature": "(payload: ActivityCreate)"}, {"_type": "tag", "name": "create_subject", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def create_subject(payload: SubjectCreate) -> SubjectRead:$/", "language": "Python", "typeref": "typename:SubjectRead", "kind": "function", "signature": "(payload: SubjectCreate)"}, {"_type": "tag", "name": "delete_activity", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def delete_activity(activity_id: int) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(activity_id: int)"}, {"_type": "tag", "name": "delete_lesson", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def delete_lesson(lesson_id: int) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(lesson_id: int)"}, {"_type": "tag", "name": "delete_module", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def delete_module(module_id: int) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(module_id: int)"}, {"_type": "tag", "name": "delete_progress", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def delete_progress(progress_id: int) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(progress_id: int)"}, {"_type": "tag", "name": "delete_quiz", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def delete_quiz(quiz_id: int) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(quiz_id: int)"}, {"_type": "tag", "name": "delete_subject", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def delete_subject(subject_id: int) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(subject_id: int)"}, {"_type": "tag", "name": "entity_id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^    entity_id: int = Field(..., description=\"Entity id\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ProgressUpsertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "entity_type", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^    entity_type: str = Field(..., description=\"subject|module|lesson|activity\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressUpsertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "get_activity", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def get_activity(activity_id: int) -> ActivityRead:$/", "language": "Python", "typeref": "typename:ActivityRead", "kind": "function", "signature": "(activity_id: int)"}, {"_type": "tag", "name": "get_lesson", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def get_lesson($/", "language": "Python", "typeref": "typename:LessonRead", "kind": "function", "signature": "( lesson_id: int, include_nested: bool = Query(False, description=\"Include activities\") )"}, {"_type": "tag", "name": "get_module", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def get_module($/", "language": "Python", "typeref": "typename:ModuleRead", "kind": "function", "signature": "( module_id: int, include_nested: bool = Query(False, description=\"Include lessons tree\") )"}, {"_type": "tag", "name": "get_progress", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def get_progress(progress_id: int) -> ProgressRead:$/", "language": "Python", "typeref": "typename:ProgressRead", "kind": "function", "signature": "(progress_id: int)"}, {"_type": "tag", "name": "get_quiz", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def get_quiz(quiz_id: int) -> ActivityRead:$/", "language": "Python", "typeref": "typename:ActivityRead", "kind": "function", "signature": "(quiz_id: int)"}, {"_type": "tag", "name": "get_subject", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def get_subject($/", "language": "Python", "typeref": "typename:SubjectRead", "kind": "function", "signature": "( subject_id: int, include_nested: bool = Query(False, description=\"Include modules tree\") )"}, {"_type": "tag", "name": "like_search", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def like_search(term: Optional[str]) -> Optional[str]:$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "function", "signature": "(term: Optional[str])"}, {"_type": "tag", "name": "list_activities", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def list_activities($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( lesson_id: Optional[int] = Query(None, description=\"Filter by lesson id\"), type: Optional[str] = Query(None, description=\"Filter by type: content|quiz\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )"}, {"_type": "tag", "name": "list_activities_for_lesson", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def list_activities_for_lesson($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( lesson_id: int, page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )"}, {"_type": "tag", "name": "list_lessons", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def list_lessons($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( module_id: Optional[int] = Query(None, description=\"Filter by module id\"), search: Optional[str] = Query(None, description=\"Search in slug/title\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )"}, {"_type": "tag", "name": "list_lessons_for_module", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def list_lessons_for_module($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( module_id: int, search: Optional[str] = Query(None, description=\"Search in slug/title\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )"}, {"_type": "tag", "name": "list_modules", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def list_modules($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( subject_id: Optional[int] = Query(None, description=\"Filter by subject id\"), search: Optional[str] = Query(None, description=\"Search in slug/title\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )"}, {"_type": "tag", "name": "list_modules_for_subject", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def list_modules_for_subject($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( subject_id: int, search: Optional[str] = Query(None, description=\"Search in slug/title\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )"}, {"_type": "tag", "name": "list_progress", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def list_progress($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( user_id: str = Query(..., description=\"User id\"), subject_id: Optional[int] = Query(None), module_id: Optional[int] = Query(None), lesson_id: Optional[int] = Query(None), activity_id: Optional[int] = Query(None), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )"}, {"_type": "tag", "name": "list_quizzes", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def list_quizzes($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( lesson_id: Optional[int] = Query(None, description=\"Filter by lesson id\"), page: int = Query(1, ge=1), page_size: int = Query(20, ge=1, le=100), )"}, {"_type": "tag", "name": "list_subjects", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def list_subjects($/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "( search: Optional[str] = Query(None, description=\"Search in slug/title\"), page: int = Query(1, ge=1, description=\"Page number\"), page_size: int = Query(20, ge=1, le=100, description=\"Items per page\"), )"}, {"_type": "tag", "name": "paginate", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def paginate(query, page: int, page_size: int):$/", "language": "Python", "kind": "function", "signature": "(query, page: int, page_size: int)"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^router = APIRouter(tags=[\"Relational\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "score", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^    score: Optional[float] = Field(None, ge=0, le=100)$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "ProgressUpsertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^    status: str = Field(..., description=\"completed|in_progress\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressUpsertPayload", "scopeKind": "class"}, {"_type": "tag", "name": "to_activity_read", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def to_activity_read(entity: Activity) -> ActivityRead:$/", "language": "Python", "typeref": "typename:ActivityRead", "kind": "function", "signature": "(entity: Activity)"}, {"_type": "tag", "name": "to_lesson_read", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def to_lesson_read(entity: Lesson, include_nested: bool = False) -> LessonRead:$/", "language": "Python", "typeref": "typename:LessonRead", "kind": "function", "signature": "(entity: Lesson, include_nested: bool = False)"}, {"_type": "tag", "name": "to_module_read", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def to_module_read(entity: Module, include_nested: bool = False) -> ModuleRead:$/", "language": "Python", "typeref": "typename:ModuleRead", "kind": "function", "signature": "(entity: Module, include_nested: bool = False)"}, {"_type": "tag", "name": "to_progress_read", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def to_progress_read(entity: Progress) -> ProgressRead:$/", "language": "Python", "typeref": "typename:ProgressRead", "kind": "function", "signature": "(entity: Progress)"}, {"_type": "tag", "name": "to_subject_read", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def to_subject_read(entity: Subject, include_nested: bool = False) -> SubjectRead:$/", "language": "Python", "typeref": "typename:SubjectRead", "kind": "function", "signature": "(entity: Subject, include_nested: bool = False)"}, {"_type": "tag", "name": "update_activity", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def update_activity(activity_id: int, updates: Dict[str, Any]) -> ActivityRead:$/", "language": "Python", "typeref": "typename:ActivityRead", "kind": "function", "signature": "(activity_id: int, updates: Dict[str, Any])"}, {"_type": "tag", "name": "update_lesson", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def update_lesson(lesson_id: int, updates: Dict[str, Any]) -> LessonRead:$/", "language": "Python", "typeref": "typename:LessonRead", "kind": "function", "signature": "(lesson_id: int, updates: Dict[str, Any])"}, {"_type": "tag", "name": "update_module", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def update_module(module_id: int, updates: Dict[str, Any]) -> ModuleRead:$/", "language": "Python", "typeref": "typename:ModuleRead", "kind": "function", "signature": "(module_id: int, updates: Dict[str, Any])"}, {"_type": "tag", "name": "update_quiz", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def update_quiz(quiz_id: int, updates: Dict[str, Any]) -> ActivityRead:$/", "language": "Python", "typeref": "typename:ActivityRead", "kind": "function", "signature": "(quiz_id: int, updates: Dict[str, Any])"}, {"_type": "tag", "name": "update_subject", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def update_subject(subject_id: int, updates: Dict[str, Any]) -> SubjectRead:$/", "language": "Python", "typeref": "typename:SubjectRead", "kind": "function", "signature": "(subject_id: int, updates: Dict[str, Any])"}, {"_type": "tag", "name": "upsert_progress", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^def upsert_progress(payload: ProgressUpsertPayload) -> ProgressRead:$/", "language": "Python", "typeref": "typename:ProgressRead", "kind": "function", "signature": "(payload: ProgressUpsertPayload)"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/routes/relational.py", "pattern": "/^    user_id: str = Field(..., description=\"User id\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProgressUpsertPayload", "scopeKind": "class"}], "hash": "e40785b4c67f7ffce4addaa0a9b34d46", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/routes/relational.py", "search-terms": [], "fields": [{"name": "Optional[datetime] completed_at", "scope": "ProgressUpsertPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "int entity_id", "scope": "ProgressUpsertPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "str entity_type", "scope": "ProgressUpsertPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(tags=[\"Relational\"])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[float] score", "scope": "ProgressUpsertPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "str status", "scope": "ProgressUpsertPayload", "scopeKind": "class", "description": "unavailable"}, {"name": "str user_id", "scope": "ProgressUpsertPayload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"86": ""}]}