{"is_source_file": true, "format": "Python", "description": "This file defines a Python class `ProgressService` responsible for handling business logic related to user progress and lesson completion within an educational platform. It includes methods to retrieve user progress, mark lessons as completed with validation, and fetch progress entries for specific lessons.", "external_files": ["src.api.errors", "src.domain.models", "src.repositories.memory_repository"], "external_methods": ["ApplicationError", "ErrorCode", "ProgressRepository.get_user_progress", "ProgressRepository.mark_lesson_completed", "ProgressRepository.get_progress_for_lesson", "SkillRepository.get_skill"], "published": ["ProgressService"], "classes": [{"name": "ProgressService", "description": "Service orchestrating user progress operations across repositories."}], "methods": [{"name": "UserProgress get_user_progress(self, user_id: str)", "description": "Get or initialize a user's progress aggregate.", "scope": "ProgressService", "scopeKind": "class"}, {"name": "ProgressEntry mark_lesson_completed( self, user_id: str, skill_id: str, module_id: str, lesson_id: str, score: Optional[float] = None )", "description": "Mark a lesson as completed, validating the skill/module/lesson relationship. Raises ApplicationError if validation fails.", "scope": "ProgressService", "scopeKind": "class"}, {"name": "List[ProgressEntry] get_progress_for_lesson(self, user_id: str, lesson_id: str)", "description": "Return all progress entries for a given user and lesson.", "scope": "ProgressService", "scopeKind": "class"}, {"name": "None __init__(self, progress_repo: ProgressRepository, skill_repo: SkillRepository)", "scope": "ProgressService", "scopeKind": "class", "description": "unavailable"}], "calls": ["src.repositories.memory_repository.ProgressRepository.get_user_progress", "src.repositories.memory_repository.ProgressRepository.mark_lesson_completed", "src.repositories.memory_repository.ProgressRepository.get_progress_for_lesson", "src.domain.models.SkillRepository.get_skill"], "search-terms": ["ProgressService", "mark_lesson_completed", "user progress logic", "lesson validation", "progress repository", "skill repository", "lesson completion"], "state": 2, "file_id": 13, "knowledge_revision": 31, "git_revision": "", "ctags": [{"_type": "tag", "name": "ProgressService", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/services/progress_service.py", "pattern": "/^class ProgressService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/services/progress_service.py", "pattern": "/^    def __init__(self, progress_repo: ProgressRepository, skill_repo: SkillRepository) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, progress_repo: ProgressRepository, skill_repo: SkillRepository)", "scope": "ProgressService", "scopeKind": "class"}, {"_type": "tag", "name": "get_progress_for_lesson", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/services/progress_service.py", "pattern": "/^    def get_progress_for_lesson(self, user_id: str, lesson_id: str) -> List[ProgressEntry]:$/", "language": "Python", "typeref": "typename:List[ProgressEntry]", "kind": "member", "signature": "(self, user_id: str, lesson_id: str)", "scope": "ProgressService", "scopeKind": "class"}, {"_type": "tag", "name": "get_user_progress", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/services/progress_service.py", "pattern": "/^    def get_user_progress(self, user_id: str) -> UserProgress:$/", "language": "Python", "typeref": "typename:UserProgress", "kind": "member", "signature": "(self, user_id: str)", "scope": "ProgressService", "scopeKind": "class"}, {"_type": "tag", "name": "mark_lesson_completed", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/services/progress_service.py", "pattern": "/^    def mark_lesson_completed($/", "language": "Python", "typeref": "typename:ProgressEntry", "kind": "member", "signature": "( self, user_id: str, skill_id: str, module_id: str, lesson_id: str, score: Optional[float] = None )", "scope": "ProgressService", "scopeKind": "class"}], "hash": "fa6de971a1baa4697c79409fd884427f", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/services/progress_service.py", "revision_history": [{"31": ""}]}