{"is_source_file": true, "format": "Python", "description": "Main FastAPI application setup for the SkillMaster backend, including route registration, middleware, startup/shutdown events, and health check endpoint.", "external_files": ["src.api.errors", "src.api.routers", "src.api.routes", "src.config", "src.repositories.memory_repository", "src.db.mongo", "src.db.table_init", "src.seeds.seed_initial_content", "src.db.sqlalchemy"], "external_methods": ["get_config", "init_mongo", "close_mongo", "create_all_tables", "get_session_factory", "seed_initial_content"], "published": ["health_check"], "classes": [], "methods": [{"name": "None _on_startup()", "description": "Handles startup initialization including dependency checks, database connections, and optional seeding.", "scope": "", "scopeKind": ""}, {"name": "None _on_shutdown()", "description": "Handles cleanup on application shutdown, such as closing database connections.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] health_check()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["FastAPI", "app.include_router", "app.add_middleware", "app.on_event", "app.add_exception_handler", "print", "os.getenv", "import sqlalchemy", "import psycopg2"], "search-terms": ["FastAPI", "Mongo", "routers", "CORS", "Error handling", "Health check", "startup events", "shutdown events", "database initialization"], "state": 2, "file_id": 2, "knowledge_revision": 98, "git_revision": "9e18404ff8058c7c23684759224b553db5bb4552", "revision_history": [{"8": "ce6e8ae0d644a5826db0eb64347e845d3559ef91"}, {"18": "ce6e8ae0d644a5826db0eb64347e845d3559ef91"}, {"35": "f27748b7437ac3a5cc92c00ec44dfbd895df6bd8"}, {"54": "09db09ee8e492447d94e28561b265a33e387b39e"}, {"87": "d6098fa8e57823041338944baf99a4e23adf6358"}, {"94": "9e18404ff8058c7c23684759224b553db5bb4552"}, {"98": "9e18404ff8058c7c23684759224b553db5bb4552"}], "ctags": [{"_type": "tag", "name": "_on_shutdown", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^async def _on_shutdown() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_on_startup", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^async def _on_startup() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "allow_origins", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^    allow_origins = [config.frontend_url]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "allow_origins", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^allow_origins = [\"*\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "catalog_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import catalog as catalog_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:catalog"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^config = get_config()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^def health_check() -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "lessons_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import lessons as lessons_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:lessons"}, {"_type": "tag", "name": "progress_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import progress as progress_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:progress"}, {"_type": "tag", "name": "relational_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routes import relational as relational_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:relational"}, {"_type": "tag", "name": "repositories", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^repositories = {\"default\": InMemoryRepository()}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "skills_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import skills as skills_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:skills"}], "hash": "70af91fba4ced06e1e81530f62d9ffc9", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/main.py", "fields": [{"name": "allow_origins = [config.frontend_url]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "allow_origins = [\"*\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "config = get_config()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "repositories = {\"default\": InMemoryRepository()}", "scope": "", "scopeKind": "", "description": "unavailable"}]}