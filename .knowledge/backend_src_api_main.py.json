{"is_source_file": true, "format": "Python", "description": "Main entry point of the backend FastAPI application for SkillMaster platform. Sets up the FastAPI app, middleware, startup/shutdown events, router inclusions, and error handlers.", "external_files": ["src.api.errors", "src.api.routers", "src.api.routes", "src.config", "src.repositories.memory_repository", "src.db.mongo", "src.db.table_init", "src.seeds.seed_initial_content", "src.db.sqlalchemy"], "external_methods": ["get_config", "init_mongo", "close_mongo", "create_all_tables", "get_session_factory", "seed_initial_content"], "published": ["app"], "classes": [], "methods": [{"name": "None _on_startup()", "description": "Asynchronous startup event to initialize MongoDB, database tables, and optional seed data.", "scope": "", "scopeKind": ""}, {"name": "None _on_shutdown()", "description": "Asynchronous shutdown event to close MongoDB connection.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] health_check()", "description": "GET endpoint for health status check of the backend service.", "scope": "", "scopeKind": ""}], "calls": ["fastapi.FastAPI", "fastapi.middleware.cors.CORSMiddleware", "src.api.errors.application_error_handler", "src.api.errors.generic_error_handler", "src.api.routers.lessons.router", "src.api.routers.progress.router", "src.api.routers.skills.router", "src.api.routers.catalog.router", "src.api.routes.relational.router", "src.config.get_config", "src.repositories.memory_repository.InMemoryRepository", "src.db.mongo.init_mongo", "src.db.mongo.close_mongo", "src.db.table_init.create_all_tables", "os.getenv", "src.seeds.seed_initial_content.seed_initial_content", "src.db.sqlalchemy.get_session_factory"], "search-terms": ["FastAPI", "MongoDB", "startup events", "router registration", "Error handling", "Health endpoint", "micro skill-based learning platform"], "state": 2, "file_id": 2, "knowledge_revision": 94, "git_revision": "9e18404ff8058c7c23684759224b553db5bb4552", "revision_history": [{"8": "ce6e8ae0d644a5826db0eb64347e845d3559ef91"}, {"18": "ce6e8ae0d644a5826db0eb64347e845d3559ef91"}, {"35": "f27748b7437ac3a5cc92c00ec44dfbd895df6bd8"}, {"54": "09db09ee8e492447d94e28561b265a33e387b39e"}, {"87": "d6098fa8e57823041338944baf99a4e23adf6358"}, {"94": "9e18404ff8058c7c23684759224b553db5bb4552"}], "ctags": [{"_type": "tag", "name": "_on_shutdown", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^async def _on_shutdown() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_on_startup", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^async def _on_startup() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "allow_origins", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^    allow_origins = [config.frontend_url]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "allow_origins", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^allow_origins = [\"*\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "catalog_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import catalog as catalog_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:catalog"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^config = get_config()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^def health_check() -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "lessons_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import lessons as lessons_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:lessons"}, {"_type": "tag", "name": "progress_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import progress as progress_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:progress"}, {"_type": "tag", "name": "relational_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routes import relational as relational_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:relational"}, {"_type": "tag", "name": "repositories", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^repositories = {\"default\": InMemoryRepository()}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "skills_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import skills as skills_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:skills"}], "hash": "64fde8cb9dc8aa9987a74905a3cf9f27", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/main.py", "fields": [{"name": "allow_origins = [config.frontend_url]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "allow_origins = [\"*\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "config = get_config()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "repositories = {\"default\": InMemoryRepository()}", "scope": "", "scopeKind": "", "description": "unavailable"}]}