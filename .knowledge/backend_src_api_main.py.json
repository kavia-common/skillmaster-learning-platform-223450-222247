{"is_source_file": true, "format": "Python", "description": "Main FastAPI application setup for the SkillMaster backend, including route registration, middleware configuration, startup/shutdown events, and health check endpoint.", "external_files": ["src.api.errors", "src.api.routers", "src.api.routes", "src.config", "src.repositories.memory_repository", "src.db.mongo", "src.db.table_init", "src.seeds.seed_initial_content", "src.db.sqlalchemy"], "external_methods": ["get_config", "init_mongo", "close_mongo", "create_all_tables", "seed_initial_content", "get_session_factory", "application_error_handler", "generic_error_handler"], "published": ["app"], "classes": [], "methods": [{"name": "None _on_startup()", "description": "Asynchronous startup event handler initializing database connections, tables, and optional seeding.", "scope": "", "scopeKind": ""}, {"name": "None _on_shutdown()", "description": "Asynchronous shutdown event handler closing connections to MongoDB.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] health_check()", "description": "GET endpoint for health/status checking of the API.", "scope": "", "scopeKind": ""}], "calls": ["fastapi.FastAPI", "fastapi.middleware.cors.CORSMiddleware", "app.include_router", "app.add_exception_handler", "os.getenv", "init_mongo", "close_mongo", "create_all_tables", "seed_initial_content", "get_session_factory"], "search-terms": ["main.py", "FastAPI", "routers", "health", "MongoDB", "CORS", "startup", "shutdown", "API endpoints", "dependency injection"], "state": 2, "file_id": 2, "knowledge_revision": 120, "git_revision": "3a10c163cc49dafb46e52903500f1bb09866dd04", "revision_history": [{"8": "ce6e8ae0d644a5826db0eb64347e845d3559ef91"}, {"18": "ce6e8ae0d644a5826db0eb64347e845d3559ef91"}, {"35": "f27748b7437ac3a5cc92c00ec44dfbd895df6bd8"}, {"54": "09db09ee8e492447d94e28561b265a33e387b39e"}, {"87": "d6098fa8e57823041338944baf99a4e23adf6358"}, {"94": "9e18404ff8058c7c23684759224b553db5bb4552"}, {"98": "9e18404ff8058c7c23684759224b553db5bb4552"}, {"108": "4716309fec40729cf6071447aadea012f3c6a404"}, {"120": "3a10c163cc49dafb46e52903500f1bb09866dd04"}], "ctags": [{"_type": "tag", "name": "_on_shutdown", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^async def _on_shutdown() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_on_startup", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^async def _on_startup() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "allow_origins", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^allow_origins = []$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "allow_origins", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^allow_origins = sorted({o.rstrip(\"\\/\") for o in allow_origins if o})$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "catalog_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import catalog as catalog_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:catalog"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^config = get_config()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^def health_check() -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "lessons_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import lessons as lessons_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:lessons"}, {"_type": "tag", "name": "progress_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import progress as progress_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:progress"}, {"_type": "tag", "name": "progressive_skills_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers.skill_progressive import router as progressive_skills_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:router"}, {"_type": "tag", "name": "relational_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routes import relational as relational_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:relational"}, {"_type": "tag", "name": "repositories", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^repositories = {\"default\": InMemoryRepository()}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "skills_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import skills as skills_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:skills"}], "hash": "543edcf3f81140ede9473fc0b3d19416", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/main.py", "fields": [{"name": "allow_origins = []", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "allow_origins = sorted({o.rstrip(\"\\/\") for o in allow_origins if o})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "config = get_config()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "repositories = {\"default\": InMemoryRepository()}", "scope": "", "scopeKind": "", "description": "unavailable"}]}