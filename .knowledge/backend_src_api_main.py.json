{"is_source_file": true, "format": "Python", "description": "This file is the main entry point for a FastAPI backend application, initializing the app, configuring middleware, setting up startup and shutdown events, registering routes, and defining health check endpoints.", "external_files": ["src.api.errors", "src.api.routers", "src.api.routes", "src.config", "src.repositories.memory_repository", "src.db.mongo", "src.db.table_init", "src.seeds.seed_initial_content", "src.db.sqlalchemy", "src.seeds.run_all_seeds"], "external_methods": ["application_error_handler", "generic_error_handler", "get_config", "init_mongo", "close_mongo", "create_all_tables", "seed_initial_content", "get_session_factory", "run_all_seeds"], "published": ["app", "root_health_check", "health_check", "backend_help", "run_seeds_endpoint"], "classes": [], "methods": [{"name": "Dict[str,Any] root_health_check()", "description": "Health check response at root path providing basic health info and environment configuration.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] health_check()", "description": "Service health endpoint used by monitoring tools to confirm service is operational.", "scope": "", "scopeKind": ""}, {"name": "HTMLResponse backend_help()", "description": "Provides a developer help page with links and diagnostic info for local development.", "scope": "", "scopeKind": ""}, {"name": "JSONResponse run_seeds_endpoint()", "description": "Endpoint to trigger relational data seeding synchronously for development purposes.", "scope": "", "scopeKind": ""}, {"name": "None _on_shutdown()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "None _on_startup()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fastapi.FastAPI", "fastapi.middleware.cors.CORSMiddleware", "fastapi.responses.HTMLResponse", "fastapi.responses.JSONResponse", "src.api.errors.application_error_handler", "src.api.errors.generic_error_handler", "src.config.get_config", "src.db.mongo.init_mongo", "src.db.mongo.close_mongo", "src.db.table_init.create_all_tables", "src.seeds.seed_initial_content", "src.seeds.run_all_seeds.run_all_seeds"], "search-terms": ["FastAPI app initialization", "CORS middleware configuration", "startup event", "shutdown event", "health check endpoints", "seed execution endpoint", "route registration"], "state": 2, "file_id": 2, "knowledge_revision": 139, "git_revision": "8c1f6746b1c8fc8d9f0bac995ca0a2a4cfe8a177", "revision_history": [{"8": "ce6e8ae0d644a5826db0eb64347e845d3559ef91"}, {"18": "ce6e8ae0d644a5826db0eb64347e845d3559ef91"}, {"35": "f27748b7437ac3a5cc92c00ec44dfbd895df6bd8"}, {"54": "09db09ee8e492447d94e28561b265a33e387b39e"}, {"87": "d6098fa8e57823041338944baf99a4e23adf6358"}, {"94": "9e18404ff8058c7c23684759224b553db5bb4552"}, {"98": "9e18404ff8058c7c23684759224b553db5bb4552"}, {"108": "4716309fec40729cf6071447aadea012f3c6a404"}, {"120": "3a10c163cc49dafb46e52903500f1bb09866dd04"}, {"125": "9c0ccc404e74674862b23b05489847a6ea98712a"}, {"126": "9c0ccc404e74674862b23b05489847a6ea98712a"}, {"127": "9c0ccc404e74674862b23b05489847a6ea98712a"}, {"128": "a17f515d6ee492dc35b7a5b15b447a92facedef8"}, {"129": "a0601feb9e02039d1e421b217a3b10b01d6ccc3c"}, {"130": "8c1f6746b1c8fc8d9f0bac995ca0a2a4cfe8a177"}, {"139": "8c1f6746b1c8fc8d9f0bac995ca0a2a4cfe8a177"}], "ctags": [{"_type": "tag", "name": "_on_shutdown", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^async def _on_shutdown() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_on_startup", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^async def _on_startup() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "allow_origins", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^allow_origins = []$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "allow_origins", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^allow_origins = sorted({o.rstrip(\"\\/\") for o in allow_origins if o})$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "backend_help", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^def backend_help() -> HTMLResponse:$/", "language": "Python", "typeref": "typename:HTMLResponse", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "catalog_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import catalog as catalog_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:catalog"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^config = get_config()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^def health_check() -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "lessons_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import lessons as lessons_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:lessons"}, {"_type": "tag", "name": "progress_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import progress as progress_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:progress"}, {"_type": "tag", "name": "progressive_skills_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers.skill_progressive import router as progressive_skills_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:router"}, {"_type": "tag", "name": "quiz_ai_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import quiz_ai as quiz_ai_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:quiz_ai"}, {"_type": "tag", "name": "relational_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routes import relational as relational_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:relational"}, {"_type": "tag", "name": "repositories", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^repositories = {\"default\": InMemoryRepository()}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "root_health_check", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^def root_health_check() -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "run_seeds_endpoint", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^def run_seeds_endpoint() -> JSONResponse:$/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "skills_router", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/main.py", "pattern": "/^from src.api.routers import skills as skills_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:skills"}], "hash": "8e1dd10aa53b264cc14fd8f502ecb735", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/main.py", "fields": [{"name": "allow_origins = []", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "allow_origins = sorted({o.rstrip(\"\\/\") for o in allow_origins if o})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "config = get_config()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "repositories = {\"default\": InMemoryRepository()}", "scope": "", "scopeKind": "", "description": "unavailable"}]}