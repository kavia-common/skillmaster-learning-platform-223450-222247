{"is_source_file": true, "format": "Python", "description": "This file contains FastAPI dependency injection functions and utility code to inject repositories, configuration, and database sessions into endpoints. It includes definitions for obtaining application config, repositories, and SQLAlchemy database sessions, with annotated dependencies for use in FastAPI route handlers.", "external_files": ["src/config.py", "src/repositories/memory_repository.py", "src/db/sqlalchemy.py"], "external_methods": ["get_session_factory()"], "published": ["get_config_dep", "get_repository_dep", "get_db", "ConfigDep", "RepoDep", "SkillRepoDep", "ProgressRepoDep", "DbSessionDep"], "classes": [], "methods": [{"name": "Config get_config_dep(request: Request)", "description": "Returns the application configuration stored on the FastAPI request's app.state.", "scope": "", "scopeKind": ""}, {"name": "InMemoryRepository get_repository_dep(request: Request)", "description": "Returns the default in-memory repository from request's app.state.", "scope": "", "scopeKind": ""}, {"name": "Generator[Session,None,None] get_db()", "description": "Creates and yields a SQLAlchemy Session bound to the configured engine, ensuring proper cleanup.", "scope": "", "scopeKind": ""}], "calls": ["get_session_factory"], "search-terms": ["FastAPI dependencies", "in-memory repository", "database session", "get_config_dep", "get_repository_dep", "get_db", "Depends"], "state": 2, "file_id": 9, "knowledge_revision": 114, "git_revision": "09db09ee8e492447d94e28561b265a33e387b39e", "revision_history": [{"21": ""}, {"114": "09db09ee8e492447d94e28561b265a33e387b39e"}], "ctags": [{"_type": "tag", "name": "ConfigDep", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/dependencies.py", "pattern": "/^ConfigDep = Annotated[Config, Depends(get_config_dep)]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "DbSessionDep", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/dependencies.py", "pattern": "/^DbSessionDep = Annotated[Session, Depends(get_db)]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ProgressRepoDep", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/dependencies.py", "pattern": "/^ProgressRepoDep = Annotated[ProgressRepository, Depends(get_repository_dep)]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "RepoDep", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/dependencies.py", "pattern": "/^RepoDep = Annotated[InMemoryRepository, Depends(get_repository_dep)]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SkillRepoDep", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/dependencies.py", "pattern": "/^SkillRepoDep = Annotated[SkillRepository, Depends(get_repository_dep)]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_config_dep", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/dependencies.py", "pattern": "/^def get_config_dep(request: Request) -> Config:$/", "language": "Python", "typeref": "typename:Config", "kind": "function", "signature": "(request: Request)"}, {"_type": "tag", "name": "get_db", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/dependencies.py", "pattern": "/^def get_db() -> Generator[Session, None, None]:$/", "language": "Python", "typeref": "typename:Generator[Session,None,None]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_repository_dep", "path": "/home/kavia/workspace/code-generation/skillmaster-learning-platform-223450-222247/backend/src/api/dependencies.py", "pattern": "/^def get_repository_dep(request: Request) -> InMemoryRepository:$/", "language": "Python", "typeref": "typename:InMemoryRepository", "kind": "function", "signature": "(request: Request)"}], "hash": "ba34e96f3b7f12e1e5398457ac7f14ce", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/dependencies.py", "fields": [{"name": "ConfigDep = Annotated[Config, Depends(get_config_dep)]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DbSessionDep = Annotated[Session, Depends(get_db)]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ProgressRepoDep = Annotated[ProgressRepository, Depends(get_repository_dep)]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "RepoDep = Annotated[InMemoryRepository, Depends(get_repository_dep)]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SkillRepoDep = Annotated[SkillRepository, Depends(get_repository_dep)]", "scope": "", "scopeKind": "", "description": "unavailable"}]}